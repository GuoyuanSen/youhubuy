<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>会员注册-yohubuy</title>
    <link rel="stylesheet" href="./css/register.css">
    <link rel="stylesheet" href="./css/reset.css">
</head>
<body>
    <header>
        <img class="head" src="https://static.yohobuy.com/newheader/img/logo_e.png?imageView2/2/interlace/1/q/75" alt="">
        <a class="first" href="http://localhost:8888/yohobuy.html">首页</a>
        <a class="help" href="#">帮助中心</a>
    </header>
    <section>
        <div class="zuo">
            <div class="geren">
                <img class="people" src="https://img11.static.yhbimg.com/yhb-img01/2018/10/15/17/01296998f78537a83698ccc38341b0a6d6.jpg?imageView2/2/w/252/h/190/q/90" alt="">
                
            </div>
            
        </div>
        <div class="you">
            <img class="logo" src="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&quality=100&size=b4000_4000&sec=1539846070&di=b71ac17ca2fc62fb9677f00d000d3f30&src=http://ww1.sinaimg.cn/large/4b42536fjw1ez7h9sudkfj20gg088myv.jpg" alt="">
            <form action="#">
                <p>
                    <b>用户名：</b><input type="text" id="username">
                    <span>4-20个字符，1个汉字为2个字符。推荐使用中文用户名。</span>
                </p>
                <p>
                    <b>手机号码：</b><input type="text" id="mobile">
                    <span>4-20个字符，1个汉字为2个字符。推荐使用中文用户名。</span>
                </p>
                <p>
                    <b>电子邮箱：</b><input type="text" id="email">
                    <span>请填写邮箱，推荐使用新浪、QQ邮箱</span>
                </p>
                <p>
                    <b>密码：</b><input type="password" id="password">
                    <span>密码为6-20个字符，请使用字母加数字或下划线组合密码。</span>
                </p>
                <p>
                    <b>确认密码：</b><input type="password" id="passWordAgain">
                    <span>请再次输入密码，两次输入必须一致</span>
                </p>
            </form>
            <p id="p1">我已看过并接受<a href="#">《宝贝网用户注册协议》</a></p>
            <a href="#"><button id="btn">立即注册</button></p>            
        </div>
    </section>
    <div class="guanyu">
    <ul>
        <li>关于我们</li>
        <li>商务合作</li>
        <li>广告服务</li>
        <li>用户协议</li>
        <li>帮助中心</li>
        <li>诚聘英才</li>
    </ul>
</div>
    <p class="ban">
        NewPower Co. 版权所有 经营许可证编号：苏B2-20120395
    
        
    </p>
    

    <script src="./script/libs/jquery.js"></script>
    <script>
        var aSpan = document.querySelectorAll("span");
        username.onblur = function(){
            var reg =/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/;
            if(reg.test(username.value) != true){
                aSpan[0].style.color = "red";
            }else{
                aSpan[0].style.color = "green";
            }
        }
        mobile.onblur = function(){
            var reg = /^(156|158|188)[0-9]{8}$/
            if(reg.test(mobile.value)){
                aSpan[1].style.color = "green";
            }else{
                aSpan[1].style.color = "red";
                aSpan[1].innerHTML = "请填写正确的手机号码"
            }
        }
        email.onblur = function(){
            var reg = /^[1-9a-z][0-9a-z]{5,19}@(126|163|qq)(.com|.cn)$/;
            if(reg.test(email.value)){
                aSpan[2].style.color = "green";
            }else{
                aSpan[2].style.color = "red";
                aSpan[2].innerHTML = "请填写正确的邮箱地址"
            } 
        }
        password.onblur = function(){
            var reg = /[a-zA-Z\d_]{6,18}/;
            if(reg.test(password.value)){
                aSpan[3].style.color = "green";
            }else{
                aSpan[3].style.color = "red";
                aSpan[3].innerHTML = "密码不能为纯字母"
            }
        }
        passWordAgain.onblur = function(){
            if(passWordAgain.value == password.value){
                aSpan[4].style.color = "green";
            }else{
                aSpan[4].style.color = "red";
                aSpan[4].innerHTML = "两次密码输入不一致"
            }
        }

        var oInp1=document.getElementById("username");
        var oInp2=document.getElementById("mobile");
        var oInp3=document.getElementById("email");
        var oInp4=document.getElementById("password");
        var oInp5=document.getElementById("passWordAgain");
        var oBtn=document.getElementById("btn");
        
        oBtn.onclick=function(){
            $.ajax({
                url:"http://localhost:8888/proxy/localhost/1815php/JD/js/register1.php",
                type:"GET",
                data:`username=${oInp1.value}&mobile=${oInp2.value}&email=${oInp3.value}&password=${oInp4.value}&passWordAgain=${oInp5.value}}`,
                datatype:"html",
                success:function(res){
                    alert(res)
                    console.log(res)
                }
            })

        }
    </script>
    
</body>
</html>